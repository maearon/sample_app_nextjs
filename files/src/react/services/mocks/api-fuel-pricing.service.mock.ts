import {rest} from 'msw';
import {environment} from 'src/environments/environment';
import {createFixResponseHandler, createPaginationHandler} from 'src/react/lib/mock-helper';

const MOCK_PRICES = [
  {
    id: '6062edca5b149a12777b92e0',
    startDate: '2021-03-29T16:00:00.000Z',
    endDate: '2021-12-31T16:00:00.000Z',
    prices: [
      {_id: '6076b377ce7749001716819d', fuelType: 'PRIMAX_95', price: 205},
      {_id: '6076b377ce7749001716819e', fuelType: 'PRIMAX_97', price: 250},
      {_id: '6076b377ce7749001716819f', fuelType: 'DIESEL', price: 215},
      {_id: '6076b377ce774900171681a0', fuelType: 'EURO5', price: 225},
    ],
    createdAt: '2021-01-08T03:19:18.424Z',
    updatedAt: '2021-04-14T09:18:47.022Z',
  },
  {
    id: '5ff7cf36244aa6001087c45d',
    startDate: '2021-01-07T16:00:00.000Z',
    endDate: '2021-03-29T15:59:00.001Z',
    prices: [
      {_id: '606bc8b2ce77490017168189', fuelType: 'PRIMAX_95', price: 168},
      {_id: '606bc8b2ce7749001716818a', fuelType: 'PRIMAX_97', price: 191},
      {_id: '606bc8b2ce7749001716818b', fuelType: 'DIESEL', price: 200},
      {_id: '606bc8b2ce7749001716818c', fuelType: 'EURO5', price: 210},
    ],
    createdAt: '2021-01-08T03:19:18.424Z',
    updatedAt: '2021-04-06T02:34:26.168Z',
  },
  {
    id: '5fed8fc6394e960017b84b5e',
    startDate: '2020-12-30T16:00:00.000Z',
    endDate: '2021-01-07T16:00:00.000Z',
    prices: [
      {_id: '5fed8fc6394e960017b84b5f', fuelType: 'PRIMAX_95', price: 164},
      {_id: '5fed8fc6394e960017b84b60', fuelType: 'PRIMAX_97', price: 170},
      {_id: '5fed8fc6394e960017b84b61', fuelType: 'DIESEL', price: 200},
      {_id: '5fed8fc6394e960017b84b62', fuelType: 'EURO5', price: 210},
    ],
    createdAt: '2020-12-31T08:45:58.873Z',
    updatedAt: '2020-12-31T08:45:58.873Z',
  },
  {
    id: '5ff6e5b9b776fb001192522e',
    startDate: '2021-01-01T16:00:00.000Z',
    endDate: '2021-01-07T16:00:00.000Z',
    prices: [
      {_id: '5ff6e5b9b776fb001192522f', fuelType: 'PRIMAX_95', price: 184},
      {_id: '5ff6e5b9b776fb0011925230', fuelType: 'PRIMAX_97', price: 214},
      {_id: '5ff6e5b9b776fb0011925231', fuelType: 'DIESEL', price: 201},
      {_id: '5ff6e5b9b776fb0011925232', fuelType: 'EURO5', price: 211},
    ],
    createdAt: '2021-01-07T10:43:05.991Z',
    updatedAt: '2021-01-07T10:43:05.991Z',
  },
  {
    id: '5ff6e5f1b776fb0011925233',
    startDate: '2020-12-25T16:00:00.000Z',
    endDate: '2020-12-31T16:00:00.000Z',
    prices: [
      {_id: '5ff6e5f1b776fb0011925234', fuelType: 'PRIMAX_95', price: 180},
      {_id: '5ff6e5f1b776fb0011925235', fuelType: 'PRIMAX_97', price: 210},
      {_id: '5ff6e5f1b776fb0011925236', fuelType: 'DIESEL', price: 198},
      {_id: '5ff6e5f1b776fb0011925237', fuelType: 'EURO5', price: 208},
    ],
    createdAt: '2021-01-07T10:44:01.929Z',
    updatedAt: '2021-01-07T10:44:01.929Z',
  },
  {
    id: '5feab238c01afb0017708cc4',
    startDate: '2020-12-26T17:00:00.000Z',
    endDate: '2020-12-30T17:00:00.000Z',
    prices: [
      {_id: '5feab238c01afb0017708cc5', fuelType: 'PRIMAX_95', price: 167},
      {_id: '5feab238c01afb0017708cc6', fuelType: 'PRIMAX_97', price: 165},
      {_id: '5feab238c01afb0017708cc7', fuelType: 'DIESEL', price: 136},
      {_id: '5feab238c01afb0017708cc8', fuelType: 'EURO5', price: 113},
    ],
    createdAt: '2020-12-29T04:36:08.976Z',
    updatedAt: '2020-12-29T04:36:08.976Z',
  },
  {
    id: '5feaa105c01afb0017708caf',
    startDate: '2020-12-27T16:00:00.000Z',
    endDate: '2020-12-28T15:59:00.000Z',
    prices: [
      {_id: '5feaac28c01afb0017708cb4', fuelType: 'PRIMAX_95', price: 180},
      {_id: '5feaac28c01afb0017708cb5', fuelType: 'PRIMAX_97', price: 200},
      {_id: '5feaac28c01afb0017708cb6', fuelType: 'DIESEL', price: 170},
      {_id: '5feaac28c01afb0017708cb7', fuelType: 'EURO5', price: 190},
    ],
    createdAt: '2020-12-29T03:22:45.381Z',
    updatedAt: '2020-12-29T04:10:16.251Z',
  },
  {
    id: '5fe9c3b2c01afb0017708ca6',
    startDate: '2020-12-25T17:00:00.000Z',
    endDate: '2020-12-27T16:58:00.000Z',
    prices: [
      {_id: '5feaac55c01afb0017708cc0', fuelType: 'PRIMAX_95', price: 200},
      {_id: '5feaac55c01afb0017708cc1', fuelType: 'PRIMAX_97', price: 250},
      {_id: '5feaac55c01afb0017708cc2', fuelType: 'DIESEL', price: 400},
      {_id: '5feaac55c01afb0017708cc3', fuelType: 'EURO5', price: 150},
    ],
    createdAt: '2020-12-28T11:38:26.840Z',
    updatedAt: '2020-12-29T04:11:01.820Z',
  },
  {
    id: '5fe4591fe0e9050010a2f5f7',
    startDate: '2020-12-23T16:00:00.000Z',
    endDate: '2020-12-25T04:58:00.000Z',
    prices: [
      {_id: '5fe45a98e0e9050010a2f600', fuelType: 'PRIMAX_95', price: 150},
      {_id: '5fe45a98e0e9050010a2f601', fuelType: 'PRIMAX_97', price: 360},
      {_id: '5fe45a98e0e9050010a2f602', fuelType: 'DIESEL', price: 200},
      {_id: '5fe45a98e0e9050010a2f603', fuelType: 'EURO5', price: 220},
    ],
    createdAt: '2020-12-24T09:02:23.971Z',
    updatedAt: '2020-12-24T09:08:40.419Z',
  },
  {
    id: '5fe45235e0e9050010a2f5e5',
    startDate: '2020-12-23T17:00:00.000Z',
    endDate: '2020-12-24T05:00:00.000Z',
    prices: [
      {_id: '5fe45235e0e9050010a2f5e6', fuelType: 'PRIMAX_95', price: 150},
      {_id: '5fe45235e0e9050010a2f5e7', fuelType: 'PRIMAX_97', price: 350},
      {_id: '5fe45235e0e9050010a2f5e8', fuelType: 'DIESEL', price: 200},
      {_id: '5fe45235e0e9050010a2f5e9', fuelType: 'EURO5', price: 220},
    ],
    createdAt: '2020-12-24T08:32:53.129Z',
    updatedAt: '2020-12-24T08:32:53.129Z',
  },
  {
    id: '5fe456f8e0e9050010a2f5f2',
    startDate: '2020-12-24T09:00:00.000Z',
    endDate: '2020-12-24T05:00:00.000Z',
    prices: [
      {_id: '5fe456f8e0e9050010a2f5f3', fuelType: 'PRIMAX_95', price: 150},
      {_id: '5fe456f8e0e9050010a2f5f4', fuelType: 'PRIMAX_97', price: 350},
      {_id: '5fe456f8e0e9050010a2f5f5', fuelType: 'DIESEL', price: 200},
      {_id: '5fe456f8e0e9050010a2f5f6', fuelType: 'EURO5', price: 220},
    ],
    createdAt: '2020-12-24T08:53:12.118Z',
    updatedAt: '2020-12-24T08:53:12.118Z',
  },
  {
    id: '5fe45110e0e9050010a2f5c3',
    startDate: '2020-12-18T17:00:00.000Z',
    endDate: '2020-12-20T16:56:00.000Z',
    prices: [
      {_id: '5feaac4dc01afb0017708cbc', fuelType: 'PRIMAX_95', price: 299},
      {_id: '5feaac4dc01afb0017708cbd', fuelType: 'PRIMAX_97', price: 111},
      {_id: '5feaac4dc01afb0017708cbe', fuelType: 'DIESEL', price: 111},
      {_id: '5feaac4dc01afb0017708cbf', fuelType: 'EURO5', price: 111},
    ],
    createdAt: '2020-12-24T08:28:00.922Z',
    updatedAt: '2020-12-29T04:10:53.244Z',
  },
  {
    id: '5fdc6595248d000017c0afe6',
    startDate: '2020-12-19T16:00:00.000Z',
    endDate: '2020-12-20T15:59:00.000Z',
    prices: [
      {_id: '5feaac41c01afb0017708cb8', fuelType: 'PRIMAX_95', price: 150},
      {_id: '5feaac41c01afb0017708cb9', fuelType: 'PRIMAX_97', price: 250},
      {_id: '5feaac41c01afb0017708cba', fuelType: 'DIESEL', price: 220},
      {_id: '5feaac41c01afb0017708cbb', fuelType: 'EURO5', price: 150},
    ],
    createdAt: '2020-12-18T08:17:25.875Z',
    updatedAt: '2020-12-29T04:10:41.589Z',
  },
  {
    id: '5fce4f249338ce0017b7ee53',
    startDate: '2020-12-12T16:00:00.000Z',
    endDate: '2020-12-19T15:59:00.000Z',
    prices: [
      {_id: '5fdc6627248d000017c0aff3', fuelType: 'PRIMAX_95', price: 150},
      {_id: '5fdc6627248d000017c0aff4', fuelType: 'PRIMAX_97', price: 220},
      {_id: '5fdc6627248d000017c0aff5', fuelType: 'DIESEL', price: 200},
      {_id: '5fdc6627248d000017c0aff6', fuelType: 'EURO5', price: 150},
    ],
    createdAt: '2020-12-07T15:49:56.685Z',
    updatedAt: '2020-12-18T08:19:51.300Z',
  },
  {
    id: '5fbcc29d4354ab001a7c330e',
    startDate: '2020-11-29T16:00:00.000Z',
    endDate: '2020-12-12T16:00:00.000Z',
    prices: [
      {_id: '5fce4c1a9338ce0017b7ee4f', fuelType: 'PRIMAX_95', price: 167},
      {_id: '5fce4c1a9338ce0017b7ee50', fuelType: 'PRIMAX_97', price: 185},
      {_id: '5fce4c1a9338ce0017b7ee51', fuelType: 'DIESEL', price: 195},
      {_id: '5fce4c1a9338ce0017b7ee52', fuelType: 'EURO5', price: 215},
    ],
    createdAt: '2020-11-24T08:21:49.123Z',
    updatedAt: '2020-12-07T15:36:58.221Z',
  },
  {
    id: '5fe451ece0e9050010a2f5dc',
    startDate: '2020-11-30T16:00:00.000Z',
    endDate: '2020-12-01T16:00:00.000Z',
    prices: [
      {_id: '5fe451ece0e9050010a2f5dd', fuelType: 'PRIMAX_95', price: 222},
      {_id: '5fe451ece0e9050010a2f5de', fuelType: 'PRIMAX_97', price: 332},
      {_id: '5fe451ece0e9050010a2f5df', fuelType: 'DIESEL', price: 323},
      {_id: '5fe451ece0e9050010a2f5e0', fuelType: 'EURO5', price: 332},
    ],
    createdAt: '2020-12-24T08:31:40.330Z',
    updatedAt: '2020-12-24T08:31:40.330Z',
  },
  {
    id: '5fa8e1a2f171b7001861a2f8',
    startDate: '2020-11-08T16:00:00.000Z',
    endDate: '2020-11-29T16:00:00.000Z',
    prices: [
      {_id: '5fc0967ba51e400010f40bf9', fuelType: 'PRIMAX_95', price: 161},
      {_id: '5fc0967ba51e400010f40bfa', fuelType: 'PRIMAX_97', price: 170},
      {_id: '5fc0967ba51e400010f40bfb', fuelType: 'DIESEL', price: 168},
      {_id: '5fc0967ba51e400010f40bfc', fuelType: 'EURO5', price: 199},
    ],
    createdAt: '2020-11-09T06:28:50.978Z',
    updatedAt: '2020-11-27T06:02:35.292Z',
  },
  {
    id: '5dce46e8a576dc0018ed2008',
    startDate: '2019-10-25T16:00:00.000Z',
    endDate: '2020-11-08T15:59:59.999Z',
    prices: [
      {_id: '5fa8de9ef171b7001861a2e8', fuelType: 'PRIMAX_95', price: 100},
      {_id: '5fa8de9ef171b7001861a2e9', fuelType: 'PRIMAX_97', price: 120},
      {_id: '5fa8de9ef171b7001861a2ea', fuelType: 'DIESEL', price: 150},
      {_id: '5fa8de9ef171b7001861a2eb', fuelType: 'EURO5', price: 175},
    ],
    createdAt: '2019-11-15T06:34:16.235Z',
    updatedAt: '2020-11-09T06:15:58.557Z',
  },
  {
    id: '5f5b22a3712d9d0010b9164b',
    startDate: '2019-10-25T16:00:00.000Z',
    endDate: '2020-11-08T15:59:59.999Z',
    prices: [
      {_id: '5fa8de84f171b7001861a2e0', fuelType: 'PRIMAX_95', price: 175},
      {_id: '5fa8de84f171b7001861a2e1', fuelType: 'PRIMAX_97', price: 270},
      {_id: '5fa8de84f171b7001861a2e2', fuelType: 'DIESEL', price: 215},
      {_id: '5fa8de84f171b7001861a2e3', fuelType: 'EURO5', price: 235},
    ],
    createdAt: '2020-09-11T07:09:23.303Z',
    updatedAt: '2020-11-09T06:15:32.546Z',
  },
  {
    id: '5f5b23ab712d9d0010b91650',
    startDate: '2019-10-25T16:00:00.000Z',
    endDate: '2020-11-08T15:59:59.999Z',
    prices: [
      {_id: '5fa8dea9f171b7001861a2ec', fuelType: 'PRIMAX_95', price: 175},
      {_id: '5fa8dea9f171b7001861a2ed', fuelType: 'PRIMAX_97', price: 278},
      {_id: '5fa8dea9f171b7001861a2ee', fuelType: 'DIESEL', price: 212},
      {_id: '5fa8dea9f171b7001861a2ef', fuelType: 'EURO5', price: 230},
    ],
    createdAt: '2020-09-11T07:13:47.076Z',
    updatedAt: '2020-11-09T06:16:09.837Z',
  },
];

const MOCK_CURRENT_PRICES = {
  id: '6062edca5b149a12777b92e0',
  startDate: '2021-03-29T16:00:00.000Z',
  endDate: '2021-12-31T16:00:00.000Z',
  prices: [
    {
      fuelType: 'PRIMAX_95',
      currentPrice: 2.05,
      oldPrice: 1.68,
      diff: 0.37,
      isPreferred: false,
      name: 'PETRONAS Primax 95 with Pro-Drive',
      shortName: 'Primax 95',
      colourHex: '#FFC600',
      priority: '10',
    },
    {
      fuelType: 'PRIMAX_97',
      currentPrice: 2.5,
      oldPrice: 1.91,
      diff: 0.59,
      isPreferred: false,
      name: 'PETRONAS Primax 97 with Pro-Race',
      shortName: 'Primax 97',
      colourHex: '#11B489',
      priority: '20',
    },
    {
      fuelType: 'DIESEL',
      currentPrice: 2.15,
      oldPrice: 2,
      diff: 0.15,
      isPreferred: false,
      name: 'PETRONAS Dynamic Diesel',
      shortName: 'Diesel',
      colourHex: '#000000',
      priority: '30',
    },
    {
      fuelType: 'EURO5',
      currentPrice: 2.25,
      oldPrice: 2.1,
      diff: 0.15,
      isPreferred: false,
      name: 'PETRONAS Dynamic Diesel Euro 5',
      shortName: 'Diesel Euro 5',
      colourHex: '#37B3F9',
      priority: '40',
    },
  ],
};

const baseUrl = `${environment.fuelApiBaseUrl}/api/fuel-pricing`;

export const handlers = [
  rest.get(`${baseUrl}/prices/past`, createFixResponseHandler(MOCK_CURRENT_PRICES)),
  rest.get(`${baseUrl}/prices/current`, createFixResponseHandler(MOCK_CURRENT_PRICES)),
  rest.get(`${baseUrl}/admin/prices`, createPaginationHandler(MOCK_PRICES)),
];
